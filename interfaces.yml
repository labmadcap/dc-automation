#
---
# Playbook for Configure interfaces as access or trunk on Cisco NX-OS switches
  - name: Configure interfaces as access or trunk
    hosts: all

    tasks:
      - name: Set Ethernet2/1 to switchport mode access
        cisco.nxos.nxos_interface:
          name: Ethernet2/1
          mode: access

      - name: Assign VLAN 101 to Ethernet2/1
        cisco.nxos.nxos_switchport:
          interface: Ethernet2/1
          mode: access
          access_vlan: 101
