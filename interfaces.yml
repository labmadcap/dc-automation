#
---
# Playbook for Configure interfaces as access or trunk on Cisco NX-OS switches
  - name: Configure interfaces as access or trunk
    hosts: all

    tasks:
      - name: Configure interfaces as access
        cisco.nxos.nxos_l2_interfaces:
          config:
            - name: Ethernet2/3
              trunk:
                native_vlan: 1
                allowed_vlans: 101,102
            - name: Ethernet2/1
              access:
                vlan: 101
            - name: Ethernet2/2
              access:
                vlan: 102
          state: merged
