#
---
# Playbook for Configure interfaces as access or trunk on Cisco NX-OS switches
  - name: Configure interfaces as access or trunk
    hosts: all

    tasks:
      - name: Ensure Eth2/1 is in its default l2 interface state
        nxos_l2_interface:
          name: Ethernet2/1
          state: unconfigured

      - name: Ensure Eth2/1 is configured for access vlan 101
        nxos_l2_interface:
          name: Ethernet2/1
          mode: access
          access_vlan: 101

